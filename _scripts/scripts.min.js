/*! bb-project - v0.4.0 - 2013-11-01
* http://www.building-blocks.com
* Copyright (c) 2013 ; */ 
!function(a){"use strict";for(var b,c,d={},e=function(){},f="memory".split(","),g="assert,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profileEnd,time,timeEnd,trace,warn".split(",");b=f.pop();)a[b]=a[b]||d;for(;c=g.pop();)a[c]=a[c]||e}(window.console=window.console||{}),function(a){a.extend(a.fn,{validate:function(b){if(!this.length)return b&&b.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing."),void 0;var c=a.data(this[0],"validator");return c?c:(this.attr("novalidate","novalidate"),c=new a.validator(b,this[0]),a.data(this[0],"validator",c),c.settings.onsubmit&&(this.validateDelegate(":submit","click",function(b){c.settings.submitHandler&&(c.submitButton=b.target),a(b.target).hasClass("cancel")&&(c.cancelSubmit=!0),void 0!==a(b.target).attr("formnovalidate")&&(c.cancelSubmit=!0)}),this.submit(function(b){function d(){var d;return c.settings.submitHandler?(c.submitButton&&(d=a("<input type='hidden'/>").attr("name",c.submitButton.name).val(a(c.submitButton).val()).appendTo(c.currentForm)),c.settings.submitHandler.call(c,c.currentForm,b),c.submitButton&&d.remove(),!1):!0}return c.settings.debug&&b.preventDefault(),c.cancelSubmit?(c.cancelSubmit=!1,d()):c.form()?c.pendingRequest?(c.formSubmitted=!0,!1):d():(c.focusInvalid(),!1)})),c)},valid:function(){if(a(this[0]).is("form"))return this.validate().form();var b=!0,c=a(this[0].form).validate();return this.each(function(){b=b&&c.element(this)}),b},removeAttrs:function(b){var c={},d=this;return a.each(b.split(/\s/),function(a,b){c[b]=d.attr(b),d.removeAttr(b)}),c},rules:function(b,c){var d=this[0];if(b){var e=a.data(d.form,"validator").settings,f=e.rules,g=a.validator.staticRules(d);switch(b){case"add":a.extend(g,a.validator.normalizeRule(c)),delete g.messages,f[d.name]=g,c.messages&&(e.messages[d.name]=a.extend(e.messages[d.name],c.messages));break;case"remove":if(!c)return delete f[d.name],g;var h={};return a.each(c.split(/\s/),function(a,b){h[b]=g[b],delete g[b]}),h}}var i=a.validator.normalizeRules(a.extend({},a.validator.classRules(d),a.validator.attributeRules(d),a.validator.dataRules(d),a.validator.staticRules(d)),d);if(i.required){var j=i.required;delete i.required,i=a.extend({required:j},i)}return i}}),a.extend(a.expr[":"],{blank:function(b){return!a.trim(""+a(b).val())},filled:function(b){return!!a.trim(""+a(b).val())},unchecked:function(b){return!a(b).prop("checked")}}),a.validator=function(b,c){this.settings=a.extend(!0,{},a.validator.defaults,b),this.currentForm=c,this.init()},a.validator.format=function(b,c){return 1===arguments.length?function(){var c=a.makeArray(arguments);return c.unshift(b),a.validator.format.apply(this,c)}:(arguments.length>2&&c.constructor!==Array&&(c=a.makeArray(arguments).slice(1)),c.constructor!==Array&&(c=[c]),a.each(c,function(a,c){b=b.replace(new RegExp("\\{"+a+"\\}","g"),function(){return c})}),b)},a.extend(a.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:!0,errorContainer:a([]),errorLabelContainer:a([]),onsubmit:!0,ignore:"",ignoreTitle:!1,onfocusin:function(a){this.lastActive=a,this.settings.focusCleanup&&!this.blockFocusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,a,this.settings.errorClass,this.settings.validClass),this.addWrapper(this.errorsFor(a)).hide())},onfocusout:function(a){this.checkable(a)||!(a.name in this.submitted)&&this.optional(a)||this.element(a)},onkeyup:function(a,b){(9!==b.which||""!==this.elementValue(a))&&(a.name in this.submitted||a===this.lastElement)&&this.element(a)},onclick:function(a){a.name in this.submitted?this.element(a):a.parentNode.name in this.submitted&&this.element(a.parentNode)},highlight:function(b,c,d){"radio"===b.type?this.findByName(b.name).addClass(c).removeClass(d):a(b).addClass(c).removeClass(d)},unhighlight:function(b,c,d){"radio"===b.type?this.findByName(b.name).removeClass(c).addClass(d):a(b).removeClass(c).addClass(d)}},setDefaults:function(b){a.extend(a.validator.defaults,b)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:a.validator.format("Please enter no more than {0} characters."),minlength:a.validator.format("Please enter at least {0} characters."),rangelength:a.validator.format("Please enter a value between {0} and {1} characters long."),range:a.validator.format("Please enter a value between {0} and {1}."),max:a.validator.format("Please enter a value less than or equal to {0}."),min:a.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function b(b){var c=a.data(this[0].form,"validator"),d="on"+b.type.replace(/^validate/,"");c.settings[d]&&c.settings[d].call(c,this[0],b)}this.labelContainer=a(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||a(this.currentForm),this.containers=a(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var c=this.groups={};a.each(this.settings.groups,function(b,d){"string"==typeof d&&(d=d.split(/\s/)),a.each(d,function(a,d){c[d]=b})});var d=this.settings.rules;a.each(d,function(b,c){d[b]=a.validator.normalizeRule(c)}),a(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'] ","focusin focusout keyup",b).validateDelegate("[type='radio'], [type='checkbox'], select, option","click",b),this.settings.invalidHandler&&a(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),a.extend(this.submitted,this.errorMap),this.invalid=a.extend({},this.errorMap),this.valid()||a(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var a=0,b=this.currentElements=this.elements();b[a];a++)this.check(b[a]);return this.valid()},element:function(b){b=this.validationTargetFor(this.clean(b)),this.lastElement=b,this.prepareElement(b),this.currentElements=a(b);var c=this.check(b)!==!1;return c?delete this.invalid[b.name]:this.invalid[b.name]=!0,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),c},showErrors:function(b){if(b){a.extend(this.errorMap,b),this.errorList=[];for(var c in b)this.errorList.push({message:b[c],element:this.findByName(c)[0]});this.successList=a.grep(this.successList,function(a){return!(a.name in b)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){a.fn.resetForm&&a(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors(),this.elements().removeClass(this.settings.errorClass).removeData("previousValue")},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(a){var b=0;for(var c in a)b++;return b},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{a(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(b){}},findLastActive:function(){var b=this.lastActive;return b&&1===a.grep(this.errorList,function(a){return a.element.name===b.name}).length&&b},elements:function(){var b=this,c={};return a(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){return!this.name&&b.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.name in c||!b.objectLength(a(this).rules())?!1:(c[this.name]=!0,!0)})},clean:function(b){return a(b)[0]},errors:function(){var b=this.settings.errorClass.replace(" ",".");return a(this.settings.errorElement+"."+b,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=a([]),this.toHide=a([]),this.currentElements=a([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(a){this.reset(),this.toHide=this.errorsFor(a)},elementValue:function(b){var c=a(b).attr("type"),d=a(b).val();return"radio"===c||"checkbox"===c?a("input[name='"+a(b).attr("name")+"']:checked").val():"string"==typeof d?d.replace(/\r/g,""):d},check:function(b){b=this.validationTargetFor(this.clean(b));var c,d=a(b).rules(),e=!1,f=this.elementValue(b);for(var g in d){var h={method:g,parameters:d[g]};try{if(c=a.validator.methods[g].call(this,f,b,h.parameters),"dependency-mismatch"===c){e=!0;continue}if(e=!1,"pending"===c)return this.toHide=this.toHide.not(this.errorsFor(b)),void 0;if(!c)return this.formatAndAdd(b,h),!1}catch(i){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+b.id+", check the '"+h.method+"' method.",i),i}}return e?void 0:(this.objectLength(d)&&this.successList.push(b),!0)},customDataMessage:function(b,c){return a(b).data("msg-"+c.toLowerCase())||b.attributes&&a(b).attr("data-msg-"+c.toLowerCase())},customMessage:function(a,b){var c=this.settings.messages[a];return c&&(c.constructor===String?c:c[b])},findDefined:function(){for(var a=0;a<arguments.length;a++)if(void 0!==arguments[a])return arguments[a];return void 0},defaultMessage:function(b,c){return this.findDefined(this.customMessage(b.name,c),this.customDataMessage(b,c),!this.settings.ignoreTitle&&b.title||void 0,a.validator.messages[c],"<strong>Warning: No message defined for "+b.name+"</strong>")},formatAndAdd:function(b,c){var d=this.defaultMessage(b,c.method),e=/\$?\{(\d+)\}/g;"function"==typeof d?d=d.call(this,c.parameters,b):e.test(d)&&(d=a.validator.format(d.replace(e,"{$1}"),c.parameters)),this.errorList.push({message:d,element:b}),this.errorMap[b.name]=d,this.submitted[b.name]=d},addWrapper:function(a){return this.settings.wrapper&&(a=a.add(a.parent(this.settings.wrapper))),a},defaultShowErrors:function(){var a,b;for(a=0;this.errorList[a];a++){var c=this.errorList[a];this.settings.highlight&&this.settings.highlight.call(this,c.element,this.settings.errorClass,this.settings.validClass),this.showLabel(c.element,c.message)}if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(a=0;this.successList[a];a++)this.showLabel(this.successList[a]);if(this.settings.unhighlight)for(a=0,b=this.validElements();b[a];a++)this.settings.unhighlight.call(this,b[a],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return a(this.errorList).map(function(){return this.element})},showLabel:function(b,c){var d=this.errorsFor(b);d.length?(d.removeClass(this.settings.validClass).addClass(this.settings.errorClass),d.html(c)):(d=a("<"+this.settings.errorElement+">").attr("for",this.idOrName(b)).addClass(this.settings.errorClass).html(c||""),this.settings.wrapper&&(d=d.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.append(d).length||(this.settings.errorPlacement?this.settings.errorPlacement(d,a(b)):d.insertAfter(b))),!c&&this.settings.success&&(d.text(""),"string"==typeof this.settings.success?d.addClass(this.settings.success):this.settings.success(d,b)),this.toShow=this.toShow.add(d)},errorsFor:function(b){var c=this.idOrName(b);return this.errors().filter(function(){return a(this).attr("for")===c})},idOrName:function(a){return this.groups[a.name]||(this.checkable(a)?a.name:a.id||a.name)},validationTargetFor:function(a){return this.checkable(a)&&(a=this.findByName(a.name).not(this.settings.ignore)[0]),a},checkable:function(a){return/radio|checkbox/i.test(a.type)},findByName:function(b){return a(this.currentForm).find("[name='"+b+"']")},getLength:function(b,c){switch(c.nodeName.toLowerCase()){case"select":return a("option:selected",c).length;case"input":if(this.checkable(c))return this.findByName(c.name).filter(":checked").length}return b.length},depend:function(a,b){return this.dependTypes[typeof a]?this.dependTypes[typeof a](a,b):!0},dependTypes:{"boolean":function(a){return a},string:function(b,c){return!!a(b,c.form).length},"function":function(a,b){return a(b)}},optional:function(b){var c=this.elementValue(b);return!a.validator.methods.required.call(this,c,b)&&"dependency-mismatch"},startRequest:function(a){this.pending[a.name]||(this.pendingRequest++,this.pending[a.name]=!0)},stopRequest:function(b,c){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[b.name],c&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(a(this.currentForm).submit(),this.formSubmitted=!1):!c&&0===this.pendingRequest&&this.formSubmitted&&(a(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(b){return a.data(b,"previousValue")||a.data(b,"previousValue",{old:null,valid:!0,message:this.defaultMessage(b,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(b,c){b.constructor===String?this.classRuleSettings[b]=c:a.extend(this.classRuleSettings,b)},classRules:function(b){var c={},d=a(b).attr("class");return d&&a.each(d.split(" "),function(){this in a.validator.classRuleSettings&&a.extend(c,a.validator.classRuleSettings[this])}),c},attributeRules:function(b){var c={},d=a(b),e=d[0].getAttribute("type");for(var f in a.validator.methods){var g;"required"===f?(g=d.get(0).getAttribute(f),""===g&&(g=!0),g=!!g):g=d.attr(f),/min|max/.test(f)&&(null===e||/number|range|text/.test(e))&&(g=Number(g)),g?c[f]=g:e===f&&"range"!==e&&(c[f]=!0)}return c.maxlength&&/-1|2147483647|524288/.test(c.maxlength)&&delete c.maxlength,c},dataRules:function(b){var c,d,e={},f=a(b);for(c in a.validator.methods)d=f.data("rule-"+c.toLowerCase()),void 0!==d&&(e[c]=d);return e},staticRules:function(b){var c={},d=a.data(b.form,"validator");return d.settings.rules&&(c=a.validator.normalizeRule(d.settings.rules[b.name])||{}),c},normalizeRules:function(b,c){return a.each(b,function(d,e){if(e===!1)return delete b[d],void 0;if(e.param||e.depends){var f=!0;switch(typeof e.depends){case"string":f=!!a(e.depends,c.form).length;break;case"function":f=e.depends.call(c,c)}f?b[d]=void 0!==e.param?e.param:!0:delete b[d]}}),a.each(b,function(d,e){b[d]=a.isFunction(e)?e(c):e}),a.each(["minlength","maxlength"],function(){b[this]&&(b[this]=Number(b[this]))}),a.each(["rangelength","range"],function(){var c;b[this]&&(a.isArray(b[this])?b[this]=[Number(b[this][0]),Number(b[this][1])]:"string"==typeof b[this]&&(c=b[this].split(/[\s,]+/),b[this]=[Number(c[0]),Number(c[1])]))}),a.validator.autoCreateRanges&&(b.min&&b.max&&(b.range=[b.min,b.max],delete b.min,delete b.max),b.minlength&&b.maxlength&&(b.rangelength=[b.minlength,b.maxlength],delete b.minlength,delete b.maxlength)),b},normalizeRule:function(b){if("string"==typeof b){var c={};a.each(b.split(/\s/),function(){c[this]=!0}),b=c}return b},addMethod:function(b,c,d){a.validator.methods[b]=c,a.validator.messages[b]=void 0!==d?d:a.validator.messages[b],c.length<3&&a.validator.addClassRules(b,a.validator.normalizeRule(b))},methods:{required:function(b,c,d){if(!this.depend(d,c))return"dependency-mismatch";if("select"===c.nodeName.toLowerCase()){var e=a(c).val();return e&&e.length>0}return this.checkable(c)?this.getLength(b,c)>0:a.trim(b).length>0},email:function(a,b){return this.optional(b)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(a)},url:function(a,b){return this.optional(b)||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(a)},date:function(a,b){return this.optional(b)||!/Invalid|NaN/.test(new Date(a).toString())},dateISO:function(a,b){return this.optional(b)||/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/.test(a)},number:function(a,b){return this.optional(b)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(a)},digits:function(a,b){return this.optional(b)||/^\d+$/.test(a)},creditcard:function(a,b){if(this.optional(b))return"dependency-mismatch";if(/[^0-9 \-]+/.test(a))return!1;var c=0,d=0,e=!1;a=a.replace(/\D/g,"");for(var f=a.length-1;f>=0;f--){var g=a.charAt(f);d=parseInt(g,10),e&&(d*=2)>9&&(d-=9),c+=d,e=!e}return 0===c%10},minlength:function(b,c,d){var e=a.isArray(b)?b.length:this.getLength(a.trim(b),c);return this.optional(c)||e>=d},maxlength:function(b,c,d){var e=a.isArray(b)?b.length:this.getLength(a.trim(b),c);return this.optional(c)||d>=e},rangelength:function(b,c,d){var e=a.isArray(b)?b.length:this.getLength(a.trim(b),c);return this.optional(c)||e>=d[0]&&e<=d[1]},min:function(a,b,c){return this.optional(b)||a>=c},max:function(a,b,c){return this.optional(b)||c>=a},range:function(a,b,c){return this.optional(b)||a>=c[0]&&a<=c[1]},equalTo:function(b,c,d){var e=a(d);return this.settings.onfocusout&&e.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){a(c).valid()}),b===e.val()},remote:function(b,c,d){if(this.optional(c))return"dependency-mismatch";var e=this.previousValue(c);if(this.settings.messages[c.name]||(this.settings.messages[c.name]={}),e.originalMessage=this.settings.messages[c.name].remote,this.settings.messages[c.name].remote=e.message,d="string"==typeof d&&{url:d}||d,e.old===b)return e.valid;e.old=b;var f=this;this.startRequest(c);var g={};return g[c.name]=b,a.ajax(a.extend(!0,{url:d,mode:"abort",port:"validate"+c.name,dataType:"json",data:g,success:function(d){f.settings.messages[c.name].remote=e.originalMessage;var g=d===!0||"true"===d;if(g){var h=f.formSubmitted;f.prepareElement(c),f.formSubmitted=h,f.successList.push(c),delete f.invalid[c.name],f.showErrors()}else{var i={},j=d||f.defaultMessage(c,"remote");i[c.name]=e.message=a.isFunction(j)?j(b):j,f.invalid[c.name]=!0,f.showErrors(i)}e.valid=g,f.stopRequest(c,g)}},d)),"pending"}}}),a.format=a.validator.format}(jQuery),function(a){var b={};if(a.ajaxPrefilter)a.ajaxPrefilter(function(a,c,d){var e=a.port;"abort"===a.mode&&(b[e]&&b[e].abort(),b[e]=d)});else{var c=a.ajax;a.ajax=function(d){var e=("mode"in d?d:a.ajaxSettings).mode,f=("port"in d?d:a.ajaxSettings).port;return"abort"===e?(b[f]&&b[f].abort(),b[f]=c.apply(this,arguments),b[f]):c.apply(this,arguments)}}}(jQuery),function(a){a.extend(a.fn,{validateDelegate:function(b,c,d){return this.bind(c,function(c){var e=a(c.target);return e.is(b)?d.apply(e,arguments):void 0})}})}(jQuery),function(a){var b={highlight:function(b,c,d){a(b).closest("form").find("[name='"+b.name+"']").addClass(c).removeClass(d)},unhighlight:function(b,c,d){a(b).closest("form").find("[name='"+b.name+"']").removeClass(c).addClass(d)}};a.validator&&a.validator.setDefaults(b),a.validator.addMethod("requiredif",function(b,c,d){var e="#"+d.dependentupon,f=a(e);if(0==f.length&&(f=a("input[name="+d.dependentupon+"]")),0==f.length)return!1;var g=f.eq(0).attr("type"),h=null;return h="checkbox"==g&&f.length>1?f.is(":checked").val().toString():"checkbox"==g&&1==f.length?f.is(":checked").toString():"radio"==g?f.filter(":checked").val().toString():f.val(),h?a.validator.methods.required.call(this,b,c,d):!0}),a.validator.addMethod("requiredifvalue",function(b,c,d){var e="#"+d.dependentupon,f=d.targetvalue;f=(null==f?"":f).toString();var g=a(e);if(0==g.length&&(g=a("input[name="+d.dependentupon+"]")),0==g.length)return!1;var h,i=g.eq(0).attr("type");return h="checkbox"==i&&g.length>1?g.is(":checked").val().toString():"checkbox"==i&&1==g.length?g.is(":checked").toString():"radio"==i?g.filter(":checked").val().toString():g.val(),f===h?a.validator.methods.required.call(this,b,c,d):!0}),a.validator.addMethod("atleast",function(b,c,d){var e=a(c),f=null,g=e.attr("name");if(d=d?parseInt(d):0,!g)return!1;f=a("[name="+g+"]");var h=0;return f.each(function(){return $input=a(this),$input.is(":checkbox:not(:checked)")||$input.is(":radio:not(:checked)")?!1:0===$input.val().length?!1:(h++,void 0)}),h>=d?!0:!1}),a.validator.addMethod("phone",function(a,b){return this.optional(b)||/^[0-9 (+)]+$/.test(a)}),a.validator.addMethod("multiemail",function(b,c){if(this.optional(c))return!0;for(var d=b.trim().replace(/\,$/,"").split(","),e=!0,f=0,g=d.length;g>f;f++)b=a.trim(d[f]),e=e&&a.validator.methods.email.call(this,b,c);return e},"Invalid email format: please use a comma to separate multiple email addresses."),a.validator.addMethod("time",function(a,b){if(this.optional(b)&&a.length<1)return!0;var c=!0,d=/^(([0-1]?[0-9])|([2][0-3])):([0-5]?[0-9])(:([0-5]?[0-9]))?$/i.test(a);return d||(c=!1),c},"Please enter a valid time (hh:mm)."),a.validator.addMethod("datetimerange",function(b,c){var d=a(c),e=d.siblings(".start-date"),f=e.val();if(""===f)return!0;var g=d.siblings(".start-time"),h=g.is(":hidden")?"00:00":g.val();if(""===h)return!0;var i=d.siblings(".end-date"),j=i.val();if(""===j)return!0;var k=d.siblings(".end-time"),l=k.is(":hidden")?"00:00":k.val();if(""===l)return!0;var m=Date.parse(f+"T"+h),n=Date.parse(j+"T"+l);return n>=m},"The end date/time must be after the start date/time.")}(window.jQuery),function(a){function b(a,b,c){a.rules[b]=c,a.message&&(a.messages[b]=a.message)}function c(a){return a.replace(/^\s+|\s+$/g,"").split(/\s*,\s*/g)}function d(a){return a.substr(0,a.lastIndexOf(".")+1)}function e(a,b){return 0===a.indexOf("*.")&&(a=a.replace("*.",b)),a}function f(b,c){var d=a("[data-valmsg-for='"+c[0].name+"']"),e=d.attr("data-valmsg-replace")&&a.parseJSON(d.attr("data-valmsg-replace"))!==!1;d.removeClass("field-validation-valid").addClass("field-validation-error"),b.data("unobtrusiveContainer",d),e?(d.empty(),b.removeClass("input-validation-error").appendTo(d)):b.hide()}function g(b,c){var d=a(this).find("[data-valmsg-summary=true]"),e=d.find("ul");e&&e.length&&c.errorList.length&&(e.empty(),d.addClass("validation-summary-errors").removeClass("validation-summary-valid"),a.each(c.errorList,function(){a("<li />").html(this.message).appendTo(e)}))}function h(b){var c=b.data("unobtrusiveContainer"),d=c.attr("data-valmsg-replace")&&a.parseJSON(c.attr("data-valmsg-replace"));c&&(c.addClass("field-validation-valid").removeClass("field-validation-error"),b.removeData("unobtrusiveContainer"),d&&c.empty())}function i(b){var c=a(b),d=c.data(l);return d||(d={options:{errorClass:"input-validation-error",errorElement:"span",errorPlacement:a.proxy(f,b),invalidHandler:a.proxy(g,b),messages:{},rules:{},success:a.proxy(h,b)},attachValidation:function(){c.validate(this.options)},validate:function(){return c.validate(),c.valid()}},c.data(l,d)),d}var j,k=a.validator,l="unobtrusiveValidation";k.unobtrusive={adapters:[],parseElement:function(b,c){var d,e,f,g=a(b),h=g.parents("form")[0];h&&(d=i(h),d.options.rules[b.name]=e={},d.options.messages[b.name]=f={},a.each(this.adapters,function(){var c="data-val-"+this.name,d=g.attr(c),i={};void 0!==d&&(c+="-",a.each(this.params,function(){i[this]=g.attr(c+this)}),this.adapt({element:b,form:h,message:d,params:i,rules:e,messages:f}))}),jQuery.extend(e,{__dummy__:!0}),c||d.attachValidation())},parse:function(b){a(b).find(":input[data-val=true]").each(function(){k.unobtrusive.parseElement(this,!0)}),a("form").each(function(){var a=i(this);a&&a.attachValidation()})}},j=k.unobtrusive.adapters,j.add=function(a,b,c){return c||(c=b,b=[]),this.push({name:a,params:b,adapt:c}),this},j.addBool=function(a,c){return this.add(a,function(d){b(d,c||a,!0)})},j.addMinMax=function(a,c,d,e,f,g){return this.add(a,[f||"min",g||"max"],function(a){var f=a.params.min,g=a.params.max;f&&g?b(a,e,[f,g]):f?b(a,c,f):g&&b(a,d,g)})},j.addSingleVal=function(a,c,d){return this.add(a,[c||"val"],function(e){b(e,d||a,e.params[c])})},k.addMethod("__dummy__",function(){return!0}),k.addMethod("regex",function(a,b,c){var d;return this.optional(b)?!0:(d=new RegExp(c).exec(a),d&&0===d.index&&d[0].length===a.length)}),j.addSingleVal("accept","exts").addSingleVal("regex","pattern"),j.addBool("creditcard").addBool("date").addBool("digits").addBool("email").addBool("number").addBool("url"),j.addMinMax("length","minlength","maxlength","rangelength").addMinMax("range","min","max","range"),j.add("equalto",["other"],function(c){var f=d(c.element.name),g=c.params.other,h=e(g,f),i=a(c.form).find(":input[name="+h+"]")[0];b(c,"equalTo",i)}),j.add("required",function(a){("INPUT"!==a.element.tagName.toUpperCase()||"CHECKBOX"!==a.element.type.toUpperCase())&&b(a,"required",!0)}),j.add("remote",["url","type","additionalfields"],function(f){var g={url:f.params.url,type:f.params.type||"GET",data:{}},h=d(f.element.name);a.each(c(f.params.additionalfields||f.element.name),function(b,c){var d=e(c,h);g.data[d]=function(){return a(f.form).find(":input[name='"+d+"']").val()}}),b(f,"remote",g)}),a(function(){k.unobtrusive.parse(document)})}(jQuery),function(a){a.validator.unobtrusive.adapters.addBool("mandatory","required"),a.validator.unobtrusive.adapters.add("requiredif",["dependentupon"],function(a){a.rules.requiredif={dependentupon:a.params.dependentupon},a.messages.requiredif=a.message}),a.validator.unobtrusive.adapters.add("requiredifvalue",["dependentupon","targetvalue"],function(a){a.rules.requiredif={dependentupon:a.params.dependentupon,targetvalue:a.params.targetvalue},a.messages.requiredif=a.message}),a.validator.unobtrusive.adapters.add("atleast",["minimum"],function(a){a.rules.atleast=a.params.minimum,a.messages.atleast=a.message}),a.validator.unobtrusive.adapters.addBool("phone"),a.validator.unobtrusive.adapters.add("multiemail",function(a){a.rules.multiemail={},a.messages.multiemail=a.message}),a.validator.unobtrusive.adapters.add("datetimerange",function(a){a.rules.datetimerange={},a.messages.datetimerange=a.message}),a.validator.unobtrusive.adapters.add("time",function(a){a.rules.time={},a.messages.time=a.message})}(window.jQuery),function(a){a.fn.removeStyle=function(a){return this.each(function(){if(a)for(var b=a.split(","),c=0;c<b.length;c++)this.removeProperty(a[c]);else this.removeAttribute("style")})}}(jQuery),jQuery.fn.reverse=[].reverse;var bb={language:{},settings:{$window:$(window),$html:$("html"),$body:$("body"),$htmlbody:$("html,body"),$page:$("#page"),$header:$("#header"),$main:$("#main"),$footer:$("#footer"),urlParams:{},processedClass:"processed",browserPrefix:null,transitionEnd:null,animationEnd:null,transitionAnimationEnd:null,processinglastComponent:!1,breakPointA:320,breakPointB:480,breakPointC:600,breakPointD:768,breakPointE:1024,breakPointF:1200},mq:{globalObj:null,$detector:$("#monitor-width"),detectorWidth:0,currentBreakpoint:0,previousBreakpoint:0,monitorWidth:function(){var a=this;a.$detector.length||(a.$detector=$("<div />",{id:"#monitor-width"}),a.globalObj.settings.$body.append(a.$detector)),a.detectorWidth=a.$detector.width(),a.detectorWidth!==a.currentBreakpoint&&(a.previousBreakpoint=a.currentBreakpoint,a.currentBreakpoint=a.detectorWidth)}},urlParams:{},getUrlParams:function(a){if(a){var b={},c=a.split("&");for(var d in c){var e=c[d].split("=");b[decodeURIComponent(e[0])]=decodeURIComponent(e[1])}return b}},setUrlParams:function(){var a=this;a.urlParams=a.getUrlParams(window.location.search)},log:function(a){"undefined"!=typeof console&&console.log(a)},htmlEncode:function(a){return a?$("<div />").text(a).html():""},htmlDecode:function(a){return a?$("<div />").html(a).text():""},ltIE:function(a){var b=this;return b.settings.$html.hasClass("lt-ie"+a)?!0:!1},browserPrefix:function(){var a=this,b=window.getComputedStyle(window.document.documentElement,""),c=(Array.prototype.slice.call(b).join("").match(/-(moz|webkit|ms)-/)||""===b.OLink&&["","o"])[1];"WebKit|Moz|MS|O".match(new RegExp("("+c+")","i"))[1],a.settings.browserPrefix="-"+c+"-"},transitionAnimationEndEvent:function(){var a,b,c,d,e=this,f=window.document.createElement("transitionAnimationElement");b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",MSTransition:"msTransitionEnd",OTransition:"oTransitionEnd",transition:"transitionend"},d={WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",MSAnimation:"msAnimationEnd",OAnimation:"oAnimationEnd",animation:"animationend"};for(a in b)void 0!==f.style[a]&&(e.settings.transitionEnd=b[a]);null===e.settings.transitionEnd&&(e.settings.transitionEnd="noTransitionEnd");for(c in d)void 0!==f.style[c]&&(e.settings.animationEnd=d[c]);null===e.settings.animationEnd&&(e.settings.animationEnd="noAnimationEnd"),e.settings.transitionAnimationEnd=(e.settings.transitionEnd+" "+e.settings.animationEnd).toString()},lastComponent:{globalObj:null,$moduleContainers:null,moduleSelector:".block",lastClass:"block-last",ieLastClass:"block-last-clear",$currentModuleContainer:null,processing:!1,roundingOffset:3,init:function(){var a=this;return a.$moduleContainers=$(".region-inner"),a.$moduleContainers?(a.startProcessing(!1),void 0):!1},stopProcessing:function(){var a=this;return console.timeEnd("Processing last components"),a.processing=!1,!1},startProcessing:function(a){var b=this;console.time("Processing last components"),b.processing=!0,(b.processing||b.$moduleContainers.length<1)&&b.stopProcessing(),a&&($(b.moduleSelector).removeClass(b.lastClass),b.globalObj.ltIE(8)&&$("."+b.ieLastClass).remove()),b.$moduleContainers.each(function(){var a=$(this),c=a.find(b.moduleSelector),d=c.length,e=null;
1>d&&b.stopProcessing(),e=a.width()-b.roundingOffset,b.processModules(c,e)})},processModules:function(a,b){var c=this;a&&b||c.stopProcessing(),a.each(function(){var a=$(this);if(a.hasClass("pull-right"))return!0;var d=parseInt(a.quickOuterWidth(!0),10);if(d>=b)return c.setLastModule(a),!0;var e=parseInt(a.position().left,10),f=Math.round(b-parseInt(e+d,10));return f>c.roundingOffset?!0:(c.setLastModule(a),void 0)}),c.stopProcessing()},setLastModule:function(a){var b=this;return a?(a.addClass(b.lastClass),b.globalObj.ltIE(8)&&a.after("<div />",{"class":b.ieLastClass}),void 0):!1}},ajaxLoaded:function(){var a=this;a.lastComponent.startProcessing(!0)},loaded:function(){var a=this;a.settings.$window.on("load",function(){})},resize:{globalObj:this,resizeTimerID:null,init:function(){var a=this;a.globalObj.settings.$window.on("resize.bbResize",function(){clearTimeout(a.resizeTimerID),a.resizeTimerID=setTimeout(a.resizeFinished,200)})},resizeFinished:function(){var a=this;a.globalObj.lastComponent.startProcessing(!0),clearTimeout(a.resizeTimerID)}},setGlobalObj:function(){var a=this;a.mq.globalObj=a,a.lastComponent.globalObj=a,a.resize.globalObj=a},ready:function(){var a=this;a.setGlobalObj(),a.mq.monitorWidth(),a.browserPrefix(),a.transitionAnimationEndEvent(),a.setUrlParams(),a.lastComponent.init(),a.resize.init(),a.loaded()}};$(bb.ready());