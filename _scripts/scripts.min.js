/*! bb-project - v0.4.0 - 2013-04-17
* http://www.building-blocks.com
* Copyright (c) 2013 ; */ 
(function(t){function e(t,e){for(var n=t,o=0;t=t[e];)n.tagName==t.tagName&&o++;return o}function n(t,n,o){var r,a=e(t,o);if("odd"==n||"even"==n)r=2,a-=!("odd"==n);else{var i=n.indexOf("n");i>-1?(r=parseInt(n,10)||parseInt(n.substring(0,i)+"1",10),a-=(parseInt(n.substring(i+1),10)||0)-1):(r=a+1,a-=parseInt(n,10)-1)}return(0>r?0>=a:a>=0)&&0==a%r}var o={"first-of-type":function(t){return 0==e(t,"previousSibling")},"last-of-type":function(t){return 0==e(t,"nextSibling")},"only-of-type":function(t){return o["first-of-type"](t)&&o["last-of-type"](t)},"nth-of-type":function(t,e,o){return n(t,o[3],"previousSibling")},"nth-last-of-type":function(t,e,o){return n(t,o[3],"nextSibling")}};t.extend(t.expr[":"],o)})(jQuery);var mq={bodyObj:$("body"),currentBreakpoint:0,previousBrekpoint:0,breakPointA:320,breakPointB:480,breakPointC:600,breakPointD:768,breakPointE:980,monitorWidth:function(){var t=this,e=$("#monitor-width");e.length||(t.bodyObj.append('<div id="monitor-width"></div>'),e=$("#monitor-width"));var n=e.width();n!==mq.currentBreakpoint&&(t.previousBrekpoint=t.currentBreakpoint,t.currentBreakpoint=n)}},site={language:{},extendLanguages:function(){},settings:{windowObj:$(window),htmlObj:$("html"),IE:$("html").hasClass("ie"),ltIE7:$("html").hasClass("lt-ie7"),ltIE8:$("html").hasClass("lt-ie8"),ltIE9:$("html").hasClass("lt-ie9"),ltIE10:$("html").hasClass("lt-ie10"),processinglastComponent:!1},urlParams:{},getUrlParams:function(){for(var t,e=this,n=/\+/g,o=/([^&=]+)=?([^&]*)/g,r=function(t){return decodeURIComponent(t.replace(n," "))},a=window.location.search.substring(1);t=o.exec(a);)e.urlParams[r(t[1])]=r(t[2])},log:function(t){"undefined"!=typeof console&&console.log(t)},placeholders:function(){Modernizr.input.placeholder||$("[placeholder]:not([type=password])").focus(function(){var t=$(this);t.val()===t.attr("placeholder")&&(t.val(""),t.removeClass("placeholder"))}).blur(function(){var t=$(this);(""===t.val()||t.val()===t.attr("placeholder"))&&(t.addClass("placeholder"),t.val(t.attr("placeholder")))}).blur().parents("form").submit(function(){var t=$(this);t.find("[placeholder]").each(function(){t.val()===t.attr("placeholder")&&t.val("")})})},lastComponent:function(t){var e=this,n={moduleContainerInner:".body",module:'[class^="span-"],[class*=" span-"]',lastClass:"last",ieMarkup:'<div class="clearfloats"></div>'},o=$(n.moduleContainerInner);o.length>0&&!e.settings.processinglastComponent&&(e.settings.processinglastComponent=!0,t===!0&&$(n.module).removeClass(n.lastClass),o.each(function(){var t,o=$(this),r=parseFloat(o.width()).toFixed(),a=$(n.module,o),i=r;a.each(function(){var e=$(this);t=parseFloat(e.outerWidth(!0)).toFixed(),i>t&&(i=Math.floor(t-2))}),a.each(function(o){var s=$(this);t=parseFloat(s.outerWidth(!0)).toFixed();var l=s.css("margin-right");if("%"===l.substr(l.length-1,1)){var u=l.substr(0,l.length-2),d=parseInt(Math.floor(r*u/100),10).toFixed();t=s.outerWidth()+parseInt(d,10)}var c=r-Math.floor(parseInt(s.position().left,10)+parseInt(t,10));i>=c&&(s.addClass(n.lastClass),e.settings.ltIE9&&s.after(n.ieMarkup)),o===a.length-1&&(e.settings.processinglastComponent=!1)})}))},resize:function(){function t(){mq.monitorWidth(),n.lastComponent(!0)}var e,n=this;n.settings.windowObj.on("resize",function(){clearTimeout(e),e=setTimeout(t,200)})},loaded:function(){var t=this;t.placeholders()},ready:function(){var t=this;t.getUrlParams(),t.lastComponent(),t.resize(),t.settings.windowObj.on("load",function(){site.loaded()})}};$(function(){mq.monitorWidth(),site.ready()});